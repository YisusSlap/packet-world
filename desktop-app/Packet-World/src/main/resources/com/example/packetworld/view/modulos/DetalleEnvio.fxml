<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane fitToWidth="true"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.packetworld.controller.DetalleEnvioController"
            stylesheets="@../../styles/estilos.css">

    <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: white;">

        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #f8f9fa; -fx-padding: 15; -fx-background-radius: 5;">
            <VBox>
                <Label text="NÃºmero de GuÃ­a" style="-fx-font-size: 12px; -fx-text-fill: #666;"/>
                <Label fx:id="lblGuia" text="PW-000000" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #89CFF0;"/>
            </VBox>
            <Region HBox.hgrow="ALWAYS"/>
            <VBox alignment="CENTER_RIGHT">
                <Label text="Estatus Actual" style="-fx-font-size: 12px; -fx-text-fill: #666;"/>
                <Label fx:id="lblEstatusHeader" text="EN TRÃNSITO" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #FFB347;"/>
            </VBox>
        </HBox>

        <TabPane tabClosingPolicy="UNAVAILABLE">

            <Tab text="ðŸ“¦ General">
                <VBox spacing="15" style="-fx-padding: 15 0 0 0;">
                    <GridPane hgap="20" vgap="10">
                        <Label text="Cliente:" style="-fx-font-weight: bold;" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <Label fx:id="lblCliente" text="..." GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Origen:" style="-fx-font-weight: bold;" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <Label fx:id="lblOrigen" text="..." GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Conductor:" style="-fx-font-weight: bold;" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <Label fx:id="lblConductor" text="..." style="-fx-text-fill: #B39CD0; -fx-font-weight: bold;" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Destinatario:" style="-fx-font-weight: bold;" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                        <Label fx:id="lblDestinatario" text="..." GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                        <Label text="DirecciÃ³n:" style="-fx-font-weight: bold;" GridPane.rowIndex="1" GridPane.columnIndex="2" GridPane.valignment="TOP"/>
                        <Label fx:id="lblDireccionCompleta" text="..." wrapText="true" maxWidth="300" GridPane.rowIndex="1" GridPane.columnIndex="3" GridPane.rowSpan="2"/>

                        <Label text="Costo Total:" style="-fx-font-weight: bold;" GridPane.rowIndex="3" GridPane.columnIndex="2"/>
                        <Label fx:id="lblCosto" text="\$0.00" GridPane.rowIndex="3" GridPane.columnIndex="3"/>
                    </GridPane>

                    <Separator/>

                    <Label text="Contenido (Paquetes)" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                    <TableView fx:id="tblPaquetes" prefHeight="150">
                        <columns>
                            <TableColumn fx:id="colDesc" text="DescripciÃ³n" prefWidth="250"/>
                            <TableColumn fx:id="colPeso" text="Peso" prefWidth="100"/>
                            <TableColumn fx:id="colMedidas" text="Dimensiones" prefWidth="150"/>
                        </columns>
                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
                    </TableView>
                </VBox>
            </Tab>

            <Tab text="ðŸ“œ Historial de Cambios">
                <VBox spacing="10" style="-fx-padding: 15 0 0 0;">
                    <TableView fx:id="tblHistorial" prefHeight="250">
                        <columns>
                            <TableColumn fx:id="colFecha" text="Fecha/Hora" prefWidth="140"/>
                            <TableColumn fx:id="colEstatus" text="Estatus" prefWidth="120"/>
                            <TableColumn fx:id="colComentario" text="Comentario" prefWidth="200"/>
                            <TableColumn fx:id="colUsuario" text="Colaborador" prefWidth="100"/>
                        </columns>
                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
                    </TableView>
                </VBox>
            </Tab>
        </TabPane>

        <Separator />

        <HBox alignment="CENTER_RIGHT" spacing="10">
            <Label text="Acciones:" style="-fx-text-fill: #999; -fx-font-style: italic;"/>

            <Button text="ðŸ–¨ Imprimir GuÃ­a" onAction="#imprimirEtiqueta"
                    style="-fx-background-color: #333; -fx-text-fill: white; -fx-font-weight: bold;"/>

            <Button text="ðŸšš Asignar" onAction="#btnAsignar" styleClass="btn-warning"/>
            <Button text="ðŸ”„ Estatus" onAction="#btnEstatus" styleClass="btn-secondary"/>
            <Button text="+ Paquete" onAction="#btnPaquete" styleClass="btn-info"/>

            <Button text="ðŸ“ Ver en Mapa" onAction="#abrirGoogleMaps" styleClass="btn-secondary"/>

            <Region prefWidth="20"/>
            <Button text="Cerrar" onAction="#cerrar" styleClass="button"/>
        </HBox>
    </VBox>
</ScrollPane>